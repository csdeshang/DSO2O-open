
## DSO2O介绍
DSO2O商城系统是基于ThinkPhp6.0+Uniapp开发的一套完善的外卖/家政服务系统，DSO2O系统是一款专业的O2O本地商圈线上线下源码系统，包含同城跑腿、外卖送餐、上门服务、等最贴近社区居民的功能特性。
DSO2O包含移动端、微信端，是一款全平台的本地生活/智慧城市创业利器！


## 导航栏目
 [帮助手册](http://www.csdeshang.com/home/help/index/id/120.html)
 | [功能清单](http://www.csdeshang.com/home/dso2o/feature.html)
 | [官网地址](http://www.csdeshang.com)
 | [TP6开发手册](https://www.kancloud.cn/manual/thinkphp6_0/1037479)
 | [Vue.js手册](https://cn.vuejs.org/)

## QQ交流群
DSO2O开源商城官方群:549770277  <a target="_blank" href="//shang.qq.com/wpa/qunwpa?idkey=727cfd470568a3b4905b391cb373a2dfd2318c87ff0104eec8a70cb711483362"><img border="0" src="//pub.idqqimg.com/wpa/images/group.png" alt="DSShop单店铺商城官方群" title="DSShop单店铺商城官方群"></a>


## DSO2O演示Demo
| 演示角色  | 演示地址                                | 账号 | 账号 |
|-------|-------------------------------------|----|----|
| 后台PC端 | https://uniapp.api.dso2o.csdeshang.com/admin/ |  dso2o  |  123456  |
| 用户PC端 | https://uniapp.api.dso2o.csdeshang.com/ |  buyer  |  123456  |
| 商家PC端 | https://uniapp.api.dso2o.csdeshang.com/home/sellerlogin/login.html |  seller  |  123456  |
| 服务机构管理 | https://dso2o.csdeshang.com/home/fuwu_manage_login/login.html	 |  test1  | 123456 |
| 用户手机端 | https://uniapp.dso2o.csdeshang.com  |  buyer  |  123456  |
| 商家手机端 | https://uniapp.store.dso2o.csdeshang.com  |  seller  |  123456  |
| 配送员手机端 | https://uniapp.distributor.dso2o.csdeshang.com	 |  测试配送员  | 123456 |
| 服务机构手机端 | https://uniapp.fuwu.dso2o.csdeshang.com  |  test1  | 123456 |

## DSO2O技术评价
1. B/S架构
2. MVC编码架构，采用Thinkphp6.0框架
3. 支持Compser
4. 支持阿里云存储
5. 支持负载均衡
6. 支持Mysql读写分离
7. 支持Redis/Memcached
8. 支持Linux/Unix/Windows服务器，支持Apache/IIS/Nginx等

## DSO2O后台功能清单
1. 设置: 站点设置、账号同步、上传设置、SEO设置、邮箱关心、支付方式、权限设置、地区管理、数据备份、操作日志
2. 会员：会员管理、会员级别、经验值管理、会员通知、积分管理、预存款、会员相册、会员标签
3. 商品：商品分类、品牌管理、商品管理、类型管理、规格管理、空间管理
4. 店铺：店铺管理、店铺资金、店铺保证金、店铺等级、店铺分类、店铺帮助、开店首页、自营店铺
5. 交易：实物订单、退款管理、订单结算、咨询管理、举报管理、评价管理、投诉管理
6. 网站: 文章分类、文章管理、会员协议、导航管理、广告管理、友情链接
7. 营销：限时折扣、满即送、代金券、分销、吸粉红包、刮刮卡、幸运大抽奖、幸运砸金蛋、生肖翻翻看、礼品管理、礼品兑换、积分奖励、签到、充值卡
8. 统计：行业分析、会员统计、店铺统计、销量分析、商品分析、市场分析、售后分析
9. 公众号：公众号配置、微信菜单、关键词回复、绑定列表、消息推送
10. 平台配送：配送设置、配送员管理、配送结算、配送投诉
11. 跑腿：跑腿设置、跑腿类目、跑腿订单
12. 服务：服务分类、服务机构、服务列表、服务订单、服务资金


## 相关依赖SDK安装
1. 多应用模式扩展  composer require topthink/think-multi-app
2. think-view      composer require topthink/think-view
3. think-captcha   composer require topthink/think-captcha
4. think-image     composer require topthink/think-image
5. thinkphp-jump   composer require liliuwei/thinkphp-jump
6. 阿里云OSS  composer require aliyuncs/oss-sdk-php   
介绍地址：https://help.aliyun.com/document_detail/32099.html?spm=5176.87240.400427.47.eaLg1R
7. phpmailer  composer require phpmailer/phpmailer
8. 阿里云短信  composer require alibabacloud/client
9. 腾讯云短信  composer require qcloudsms/qcloudsms_php
10. 进入GatewayWorker子目录安装 composer install
11. 安装GatewayClient  composer require workerman/gatewayclient

## 安装教程
1. 将源码解压到服务器空间
2. 域名应该指向到public目录，因为应用入口文件位于public/index.php。
比如我的DSMALL项目在  D:\www\dso2o  域名应该指向到 D:\www\dso2o\public
3. 进行安装 http://域名/install/install.php
4. 后台地址：http://域名/index.php/admin
5. 前台地址：http://域名/index.php/home

如果还有什么不懂的到DSMALL论坛(http://www.csdeshang.com)进行提问，以及下载最新版本。


## APIDOC 生成API
apidoc -i application/api/controller -o public/apidoc/

## 更新日志
#### V4.1.0
免费版更新
1. 新增 服务内容排序
2. 修复 秒杀活动套餐价格不能设置为0
3. 修复 地区设置漏洞
4. 优化 周边店铺检索
5. 优化 API接口
6. 优化 部分语言提示

授权版更新
1. 优化 API接口
2. 优化 周边店铺检索
3. 优化 定位模块
4. 优化 客服功能
5. 优化 商家管理端部分页面显示

#### V4.0.9
免费版更新
1. 新增 高德地图
2. 新增 部分店铺信息
3. 新增 收货人信息门牌号
4. 新增 客服模块
5. 修改 周边店铺页面 店铺头像显示
6. 优化 商品详情和购物车页面显示
7. 优化 翻页
8. 优化 购物车

授权版更新
1. 新增 高德地图
2. 新增 店铺电话
3. 新增 店铺地图设置
4. 新增 收货人信息门牌号
5. 新增 定位模块地图实例显示
6. 新增 客服模块
7. 优化 商品详情和购物车页面显示

#### V4.0.8
免费版更新
1. 新增 私密代金券，可在新增代金券页面选择该代金券是公共类型还是私密类型
2. 新增 后台设置 网络LOGO栏目
3. 新增 店铺设置 手机端店铺背景图
4. 修改 手机端默认轮播图
5. 修改 部分语言项
6. 修复 图片空间转移图片跳转错误
7. 修复 开店提示图片不显示
8. 修复 LOGO过大的显示
9. 优化 后台备份
10.优化 添加商品流程
11.优化 配送员取货送货流程

授权版更新
1. 新增 私密代金券，可在新增代金券页面选择该代金券是公共类型还是私密类型
2. 新增 商家端代金券模块
3. 新增 商家账户组模块
4. 修复 文章列表页面一页10条数据无法翻页
5. 修复 后台开启分销员审核 手机端申请分销员无状态显示
6. 优化 配送员取货送货流程
7. 优化 部分页面显示

#### V4.0.7
免费版更新
1. 新增 商家入驻缴费可在线缴费
2. 修改 商家入驻时，商家账号和买家账号一致
3. 修复 后台咨询商品和店铺链接错误
4. 修复 下单页面新增的地址信息和会员中心新增的地址信息中间字符不一致
5. 修复 第三方快捷登录注册的会员 注册商家后，无法进入店铺
6. 优化 隐藏用户手机号
7. 优化 分销功能
8. 优化 配送员接单
9. 优化 商品规格库存为0时不允许点击

授权版更新
1. 新增 商家入驻缴费可在线缴费
2. 修复 手机端评论页面无法翻页的问题
3. 修复 手机端广告已经到期还显示
4. 修复 跑腿的收发地址颠倒
5. 优化 浏览记录页面
6. 优化 点单、服务机构列表、服务机构详情页面
7. 优化 商家入驻页面地址选择
8. 优化 分销功能


#### V4.0.6
免费版更新
1. 新增 找回密码页面没有绑定手机提示语和修改密码时的提示语
2. 新增 普通注册的开关
3. 新增 收到货款可修改收款凭证号
4. 修复 tag有时候没起作用
5. 修复 手机端语言项显示错误
6. 修复 已使用预存款但仍然跳转到第三方支付
7. 修复 短信发送错误的问题
8. 修复 充值卡余额充足时，使用充值卡支付和预存款会支付失败
9. 修复 手机号码注册的会员无法获得注册红包 
10.优化 自营店铺不显示店铺信息和店铺消费模块
11.优化 退款流程
12.优化 商品详情页面显示
13.优化 搜索商品时优先展示有库存的商品


授权版更新
1. 新增 手机端访问商品详情页面和店铺首页时统计入店铺流量
2. 新增 密码找回页面没有绑定手机号提示语
3. 新增 普通注册的开关按钮
4. 新增 剪裁图片时有使用按钮
5. 修复 收发件地址信息类型错误
6. 修复 入驻类型没有修改的问题
7. 修复 服务分类只有一级时编辑商品会出错
8. 修复 积分商品无法立即购买的问题
9. 修复 有规格的商品无法修改库存的问题
10.优化 首页、外卖、服务、会员中心、跑腿等页面的UI显示

#### V4.0.5
免费版更新
1. 新增 百度敏感词过滤
2. 新增 百度色情图片审核
3. 新增 商家出售中的商品页面库存排序展示商品
4. 修复 OSS图片显示问题
5. 修复 店铺登录验证码开关引用错误
6. 修复 商品咨询验证码点击不变的问题
7. 修复 邮件发送内容里面的链接错误的问题
8. 修复 充值卡支付不成功的问题
9. 修改 银联配置证书上传为引用证书路径

授权版更新
1. 新增 手机端积分中心板块
2. 新增 银联WAP支付
3. 新增 手机端规格管理模块
4. 新增 评价页面显示图片
5. 新增 订单删除功能
6. 修复 点击分享不弹出的问题
7. 修改 用户中心实名认证姓名改为昵称
8. 优化 商品详情页面
9. 优化 部分页面图片上传

#### V4.0.4
免费版更新
1. 新增 个人入驻付款页面 显示付款金额明细和应付总金额
2. 修复 银联上传小bug
3. 修复 认证短信发送失败bug
4. 修复 远程代码执行漏洞
5. 修复 手机端卖家中心  订单数量不是整数时的报错，现在转换为整数
6. 修复 微信模板消息发送失败bug
7. 修复 生成个人推广海报的时候，获取不到会员头像的问题
8. 修复 会员头像上传头像问题
9. 修复 仓库中的商品在手机端详情没有明显提示
10.修复 统计导出报错

授权版更新
1. 新增 猜你喜欢
2. 新增 后台的配送员列表处添加一个按钮可查看地图上配送员所在位置
3. 新增 外卖的配送费用标准（可按重量、按时间段、按距离计费）
4. 更新 图片全部传到OSS
5. 修复 配送员没送过订单时不自动派单的bug
6. 修复 后台更换会员默认头像不生效的问题
7. 修复 在下单页显示已优惠的金额
8. 修复 腾讯短信参数问题
9. 修复 用户使用了预存款支付了部分金额后，如果卖家调整了订单金额且金额小于用户已支付的金额则待支付金额显示为负数
10.修复 手机端发布规格商品，没设置规格商品的重量报错
11.修复 取消后还显示限时折扣的bug
12.修复 商品搜索页面，点价格区间的时候，那个URL的价格参数会重复提交
13.优化 店铺分销比例统一


#### V4.0.3
免费版更新
1. 新增 后台自营店铺店铺分类编辑
2. 新增 店铺加上搜索商品功能
3. 新增 必点商品功能
4. 新增 后台入驻设置 可选择（仅个人，仅企业，全部）选项
5. 更新 达达配送
6. 更新 易连云小票打印
7. 修复 不上传图片也可以添加商品
8. 修复 未配置短信时的报错
9. 修复 后台管理员密码 和添加管理员 密码可以为空的问题
10.修复 后台限时折扣列表页面删除按钮无效的问题
11.修复 限时折扣活动结束 不解除商品锁定的问题
12.修复 商品详情页面 点击评论不更新数据的问题
13.修复 只显示一条评论的问题
14.优化 虚拟订单退款
15.优化 手机登录限制只能输入11位数字

授权版更新
1. 新增 后台入驻设置 可选择（仅个人，仅企业，全部）选项
2. 优化 手机号码注册和登录去掉图片验证码
3. 优化 商家入驻流程 详细地址定位
4. 优化 虚拟订单退款
5. 优化 手机登录限制只能输入11位数字
6. 优化 统一规范标签样式
7. 优化 手机端登录
8. 优化 手机端服务机构入驻

#### V4.0.2
免费版更新
1. 新增 手机端banner
2. 更新 腾讯云短信
3. 修复 店铺下单没有店铺推荐分类的问题
4. 修复 微信扫码注册的账号无法更新openid的问题
5. 修复 获取提现账号变量名错误的问题
6. 修复 没登录的时候点击侧边栏购物车弹出登录窗口
7. 修复 下单确认页面，收货人信息的手机号码重复显示的问题
8. 优化 抢单功能
9. 优化 店铺下单
10.优化 去除绑定账号页面的邮箱验证

授权版更新
1. 新增 配送员登录入口
2. 新增 手机端活动列表页面
3. 新增 用户订单详情页面店铺链接
4. 新增 手机端下单页面，会员中心 订单列表页面和订单详情页面显示赠品
5. 修复 发票信息过长导致错位
6. 修复 个人中心浏览记录不显示的问题
7. 修复 申诉内容不显示的问题
8. 修复 店铺快速下单页面如果有多规格加一个规格弹框选择
9. 优化 UI
10.优化 店铺点单
11.优化 提现列表去除微信提现账号
12.优化 去除绑定账号页面的邮箱验证

#### V4.0.1
Thinkphp由TP5.0.24升级为TP6.0

#### V3.2.7
免费版更新
1. 新增 意见反馈功能
2. 新增 提现额度范围设置
3. 新增 提现到支付宝、微信
4. 新增 商品详情页面 限时折扣活动没有设置标题的默认标题
5. 更新 支付宝SDK升级
6. 更新 支付宝APP支付
7. 修复 第三方登录
8. 修复 分销开关不生效
9. 修复 微博API接口调用不了类的问题
10.修复 H5路径引用
11.修复 商家限时折扣 商品列表页面  商品名称带有单引号会报错 不显示商品列表
12.修复 商品规格促销  现一个商品多个规格 每个规格可参与各自的促销
13.修复 微博绑定nickname报错
14.修复 手机号注册的会员，在商品评分里面隐藏手机号会员名的中间4位号码
15.修复 商家导出订单出错
16.修复 商家订单金额，获取的佣金是按原实际金额算
17.修复 发送邮件时，html显示问题
18.优化 删除重复的语言项
19.优化 后台微信消息模板从微信模块移动到邮箱短信消息模块

授权版更新
1. 新增 用户提现额度的设置
2. 新增 吸粉红包详情页面，没有领取则不显示领取时间
3. 新增 商品详情页面 限时折扣活动没有设置标题的默认标题
4. 更新 支付宝SDK升级
5. 更新 支付宝优化+提现到支付宝、微信
6. 修复 店铺发布商品  选择分类  商品详情 和编辑图片三个页面 页面居中没有左对齐的问题
7. 修复 API接口 电子营业执照为空也带上默认路径的问题。
8. 修复 手机端领取代金券的提示语言项
9. 修复 第三方登录bug
10.修复 分销开关错误
11.修复 sql注入漏洞
12.修复 删除任意文件的漏洞
13.修复 商家可改订单金额，获取的佣金是按原实际金额算
14.修复 未登录时加入购物车会造成随意删除文件的漏洞
15.修复 发送邮件时，html显示问题
16.修复 自动派单的bug
17.修复 高版本微信支付取消后空白
18.修复 微信支付点返回会出现代码
19.修复 签到开关按钮无效，关闭之后一样可以进行签到
20.优化 手机端分销管理
21.优化 商家导出订单bug
22.优化 手机端，子账户权限限制
23.优化 商品分类编辑页面 类型区域新增下拉滚动条

#### V3.2.6
免费版更新 
1. 新增 微信消息模板的功能
2. 新增 初始数据配送员 密码123456
3. 新增 手机短信发送测试及错误信息提示、格式
4. 新增 后台手机端访问PC端  是否自动跳转 H5
5. 新增 店铺中心分销模块 分销商品页面，新增如果后台开启分销员返佣 则显示一个提示，提示店铺主后台开启分销员返佣后 分销员购买商品会额外获得一份一级返佣佣金
6. 更新 阿里云短信
7. 修复 空间管理权限
8. 修复 手机注册不登陆
9. 修复 配送员保证金保存失败
10.修复 微博API接口调用不了类的问题
11.修复 配送员结算没有计算跑腿订单金额
12.修复 只有跑腿订单时不生成配送员结算单的bug
13.修复 支付宝、微信退款原账号 部分退款、不同店铺退款BUG
14.修复 百度地图的引用版本，1.2版本无法兼容https  2.0可以
15.修复 商品规格名称如果带有单引号的话  商品编辑页面会报错
16.修复 用户在非登录的状态下 访问继承BaseMember  没有做限制
17.优化 去除邮箱必填项
18.优化 规范语言包

授权版更新
1. 新增 手机端卖家验证收货码
2. 新增 商家中心添加商品搜索页
3. 新增 添加用户时，默认的支付密码
4. 新增 商品详情页面骨架屏
5. 新增 H5支付中间页面
6. 新增 手机端卖家验证收货码
7. 新增 我的浏览记录页面
8. 新增 手机端上传商品
9. 新增 手机端入驻
10.新增 申请提现页面如果没有提现账号 新增一个提示和跳转到新增提现账号页面的链接
11.修复 第一个规格没有设置库存 那么手机端点击商品后就无法切换该商品的其他规格
12.修复 推广链接注册不显示推荐员是谁
13.修复 手机端定位不准的问题
14.修复 登录页面返回按钮失效的BUG
15.优化 实名认证页面的显示
16.优化 配送员注册页去掉判断是否已登录
17.优化 去除没有规格值的规格名称显示
18.优化 处理IOS手机 商品详情页面滑动卡顿的问题

#### V3.2.5
1. 新增 实名认证功能
2. 新增 商品列表新增编辑
3. 新增 用户可以对跑腿订单进行评价
4. 新增 后台跑腿订单可以进行导出EXCEL
5. 新增 后台管理员可以给跑腿订单指派配送员
6. 新增 跑腿订单可以显示接单人员信息以及电话号码，方便联系
7. 更新 后台权限列表
8. 修复 只有一级分类时发布商品提示未绑定分类的bug
9. 修复 店铺资金表店铺保证金表将seller_id改成store_id
10.修复 发送全员消息时不显示的bug
11.修复 手机端微信支付调用不出的bug
12.修复 系统发生的短信未记录到短信日志中，且未做限制的bug
13.修复 时间插件没有显示中文的bug
14.修复 店铺删除图片后的默认图片显示不出来的bug

#### V3.2.3
1. 新增 红包活动
2. 新增 刮刮卡活动
3. 新增 大转盘活动
4. 新增 砸金蛋活动
5. 新增 生肖翻翻看活动

#### V3.2.2
1. 新增 签到送积分
2. 新增 店铺管理聊天
3. 新增 发布商品添加事务
4. 修复 营业执照验证

#### V3.2.1
1. 新增 PC端家政服务
2. 新增 服务机构后台审核
3. 修复 投诉 需要平台审核通过之后卖家才能查看
4. 修复 微信支付必须开启微信扫码支付的优化

#### V3.1.4
1. 新增 自动拒单
2. 修复 后台配送员结算
3. 修复 配送员投诉
4. 修复 搜索页品牌的bug

#### V3.1.3
1. 新增 自动派单功能
2. 更新 配送端百度地图
3. 优化 公共头部尾部
4. 优化 店铺列表

#### V3.1.1
1. 新增 分销比例范围
2. 新增 PC端配送员管理
3. 新增 配送员接单socket接口
4. 修复 下单判断处理
5. 优化 语言包