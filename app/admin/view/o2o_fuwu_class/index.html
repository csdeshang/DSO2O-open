{include file="public/header" /}





<div class="page">
    <div class="fixed-bar">
        <div class="item-title">
            <div class="subject">
                <h3>{$Think.lang.o2o_fuwu_class}</h3>
            </div>
            {include file="public/admin_items" /}
        </div>
    </div>

    
    <table class="ds-default-table">
      <thead>
        <tr class="thead">
          <th></th>
          <th>{$Think.lang.ds_sort}</th>
          <th>{$Think.lang.o2o_fuwu_class_name}</th>
          <th>{$Think.lang.ds_handle}</th>
        </tr>
      </thead>
      <tbody>
        {notempty name="class_list"}
        {foreach name="class_list" item="v" key="k" }
        <tr class="hover edit" id="ds_row_{$v.o2o_fuwu_class_id}">
          <td class="w48"><input type="checkbox" name="check_o2o_fuwu_class_id[]" value="{$v.o2o_fuwu_class_id}" class="checkitem">
            {if isset($v['have_child']) && $v['have_child'] == '1'}
            <img fieldid="{$v.o2o_fuwu_class_id}" status="open" ds_type="flex" src="{$Think.ADMIN_SITE_ROOT}/images/treetable/tv-expandable.gif">
            {else/}
            <img fieldid="{$v.o2o_fuwu_class_id}" status="close" ds_type="flex" src="{$Think.ADMIN_SITE_ROOT}/images/treetable/tv-item.gif">
            {/if}
          </td>
          <td class="w48 sort"><span title="{$Think.lang.ds_editable}" ajax_branch="o2o_fuwu_class_sort_order" datatype="number" fieldid="{$v.o2o_fuwu_class_id}" fieldname="o2o_fuwu_class_sort_order" ds_type="inline_edit" class="editable ">{$v.o2o_fuwu_class_sort_order}</span></td>
          <td class="w50pre name">
          <span title="{$Think.lang.ds_editable}" required="1" fieldid="{$v.o2o_fuwu_class_id}" ajax_branch="o2o_fuwu_class_name" fieldname="o2o_fuwu_class_name" ds_type="inline_edit" class="editable ">{$v.o2o_fuwu_class_name}</span>
          <a class="btn-add-nofloat marginleft" href="javascript:dsLayerOpen('{:url('O2oFuwuClass/add',['o2o_fuwu_class_parent_id'=>$v.o2o_fuwu_class_id])}','{$Think.lang.ds_add}')"><span>{$Think.lang.ds_add_sub_class}</span></a>
          </td>
          <td class="w96">
              <a href="javascript:dsLayerOpen('{:url('O2oFuwuClass/edit',['o2o_fuwu_class_id'=>$v.o2o_fuwu_class_id])}','{$Think.lang.ds_edit}')" class='dsui-btn-edit'><i class='iconfont'></i>{$Think.lang.ds_edit}</a>
              <a href="javascript:dsLayerConfirm('{:url('O2oFuwuClass/del',['o2o_fuwu_class_id'=>$v.o2o_fuwu_class_id])}','{$Think.lang.ds_ensure_del}',{$v.o2o_fuwu_class_id})" class='dsui-btn-del'><i class='iconfont'></i>{$Think.lang.ds_del}</a>
          </td>
        </tr>        
        {/foreach}
        {else /}
        <tr class="no_data">
          <td colspan="10">{$Think.lang.ds_no_record}</td>
        </tr>
        {/notempty}
      </tbody>
      {notempty name="class_list"}
      <tfoot>
        <tr class="tfoot">
          <td><input type="checkbox" class="checkall" id="checkall_2"></td>
          <td id="batchAction" colspan="15"><span class="all_checkbox">
            <label for="checkall_2">{$Think.lang.ds_select_all}</label>
            </span>&nbsp;&nbsp;<a href="JavaScript:void(0);" class="btn btn-small" onclick="submit_delete_batch()"><span>{$Think.lang.ds_del}</span></a>
            </td>
        </tr>
      </tfoot>
      {/notempty}
    </table>
</div>

<script type="text/javascript" src="{$Think.ADMIN_SITE_ROOT}/js/jquery.edit.js" charset="utf-8"></script>
<script src="{$Think.ADMIN_SITE_ROOT}/js/o2o_fuwu_class.js"></script>
<script type="text/javascript">
    function submit_delete(ids_str){
        _uri = ADMINSITEURL+"/O2oFuwuClass/del.html?o2o_fuwu_class_id=" + ids_str;
        dsLayerConfirm(_uri,'{$Think.lang.ds_ensure_del}');
    }
</script>